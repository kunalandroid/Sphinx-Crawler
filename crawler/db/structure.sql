SET CACHE_SIZE 131072;
CREATE USER IF NOT EXISTS SA SALT '9cae74d09cac58e3' HASH '6cfe6b5f761badc3d73141472697ad0c702edabf027cb1acc6ebc48ce4a10d99' ADMIN;
CREATE SEQUENCE IF NOT EXISTS PUBLIC.SYSTEM_SEQUENCE_F2B68A6E_74EC_47A3_B729_1F0816EA62C1 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE IF NOT EXISTS PUBLIC.SYSTEM_SEQUENCE_5320E4CB_EA29_4CF1_B72B_CCD6E2D3BD06 START WITH 43179884 BELONGS_TO_TABLE;
CREATE CACHED TABLE IF NOT EXISTS PUBLIC.CRAWL_LOG(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_F2B68A6E_74EC_47A3_B729_1F0816EA62C1) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F2B68A6E_74EC_47A3_B729_1F0816EA62C1,
    URL CHAR(4096),
    RESPONSE_CODE SMALLINT,
    CREATED_AT TIMESTAMP
);      
ALTER TABLE PUBLIC.CRAWL_LOG ADD CONSTRAINT IF NOT EXISTS PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);
CREATE INDEX IF NOT EXISTS PUBLIC.CRAWL_LOG_URL_IDX ON PUBLIC.CRAWL_LOG(URL);
CREATE CACHED TABLE IF NOT EXISTS PUBLIC.URLS(
    URL CHAR(4096) NOT NULL SELECTIVITY 100,
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_5320E4CB_EA29_4CF1_B72B_CCD6E2D3BD06) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_5320E4CB_EA29_4CF1_B72B_CCD6E2D3BD06 SELECTIVITY 100,
    HOST CHAR(255) SELECTIVITY 1,
    CREATED_AT TIMESTAMP SELECTIVITY 28,
    FETCHED_AT TIMESTAMP SELECTIVITY 99,
    HASH CHAR(32) SELECTIVITY 98,
    STATUS SMALLINT SELECTIVITY 1
);
ALTER TABLE PUBLIC.URLS ADD CONSTRAINT IF NOT EXISTS PUBLIC.CONSTRAINT_2 PRIMARY KEY(URL);
CREATE INDEX IF NOT EXISTS PUBLIC.URLS_HOST_FETCHED_AT_CREATED_AT_IDX ON PUBLIC.URLS(HOST, FETCHED_AT, CREATED_AT);
CREATE INDEX IF NOT EXISTS PUBLIC.URLS_HASH_IDX ON PUBLIC.URLS(HASH);
CREATE INDEX IF NOT EXISTS PUBLIC.URLS_HOST_IDX ON PUBLIC.URLS(HOST);
CREATE INDEX IF NOT EXISTS PUBLIC.URLS_ID_IDX ON PUBLIC.URLS(ID);